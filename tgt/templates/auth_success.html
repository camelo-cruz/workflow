<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Authentication Success</title>
  <link rel="stylesheet" href="/static/css/auth.css">
</head>
<body>
  <div class="card">
    <h1>âœ… Signed in successfully</h1>
    <p>Your access token is ready.</p>
    <button id="copy-btn">Copy Token to Clipboard</button>
    <div id="copy-status">Copied!</div>
  </div>

  <script>
  const token = "{{ token }}";

  localStorage.setItem('access_token', token);
  const copyBtn = document.getElementById('copy-btn');
  const statusEl = document.getElementById('copy-status');
  copyBtn.addEventListener('click', () => {
    navigator.clipboard.writeText(token)
      .then(() => {
        statusEl.style.visibility = 'visible';
        setTimeout(() => { statusEl.style.visibility = 'hidden'; }, 2000);
      })
      .catch(err => { alert('Failed to copy token: ' + err); });
   });
  </script>
</body>
</html>